<!DOCTYPE html>  <html> <head>   <title>catface.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               catface.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-1">#</a>               </div>               <p><strong>Catface (for jQuery)</strong></p>

<p>version: 1.0 beta</p>

<p>@requires jQuery v1.2 or later</p>

<p>Licensed under the 
 <a href="http://www.opensource.org/licenses/mit-license.php">MIT</a></p>

<p>catface is fishcat + <a href="http://defunkt.github.com/facebox/">facebox</a></p>

<p>Usage:</p>

<pre><code>jQuery(document).ready(function($) {
  $("a[rel*=catface]").catface();
});
</code></pre>

<p><code>&lt;a href="#terms" rel="catface"&gt;Terms&lt;/a&gt;</code>
 loads the #terms div in the box :</p>

<p><code>&lt;a href="terms.html" rel="catface"&gt;Terms&lt;/a&gt;</code>
 loads the terms.html page in the box</p>

<p><code>&lt;a href="terms.png" rel="catface"&gt;Terms&lt;/a&gt;</code>
 loads the terms.png image in the box</p>

<p>You can also use it programmatically:</p>

<pre><code>jQuery.catface("some html");
</code></pre>

<p>This will open a facebox with "some html" as the content.</p>

<pre><code>jQuery.catface(function($) { $.ajaxes() });
</code></pre>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-2">#</a>               </div>               <h3>Main Documentation</h3>             </td>             <td class="code">               <div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  
  <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\S/</span><span class="p">)){</span>
      <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">load</span><span class="p">();</span>
      <span class="nx">$</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="o">?</span> <span class="nx">data</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">$</span><span class="p">)</span> <span class="o">:</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">settings</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">$</span><span class="p">;</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-3">#</a>               </div>               <p>Basic settings</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">loadingImage</span> <span class="o">:</span> <span class="s2">&quot;/images/loading.gif&quot;</span><span class="p">,</span>
    <span class="nx">closeImage</span>   <span class="o">:</span> <span class="s2">&quot;/images/close.png&quot;</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-4">#</a>               </div>               <p>Html</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">html</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;\</span>
<span class="s1">&lt;!--[if lte IE 6 ]&gt;\</span>
<span class="s1">  &lt;div id=&quot;catface&quot; class=&quot;catface-ie&quot;&gt;\</span>
<span class="s1">&lt;![endif]--&gt;\</span>
<span class="s1">&lt;!--[if (gt IE 6)|!IE]&gt;--&gt;\</span>
<span class="s1">  &lt;div id=&quot;catface&quot;&gt;\</span>
<span class="s1">&lt;!--&lt;![endif]--&gt;\</span>
<span class="s1">  &lt;div class=&quot;catface-body&quot;&gt;\</span>
<span class="s1">    &lt;a href=&quot;#&quot; class=&quot;catface-close&quot;&gt;\</span>
<span class="s1">      &lt;img src=&quot;&#39;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">closeImage</span> <span class="o">+</span> <span class="s1">&#39;&quot; alt=&quot;X&quot; /&gt;\</span>
<span class="s1">    &lt;/a&gt;\</span>
<span class="s1">    &lt;div class=&quot;catface-content&quot;&gt;&lt;/div&gt;\</span>
<span class="s1">  &lt;/div&gt;\</span>
<span class="s1">  &lt;div class=&quot;catface-loading&quot;&gt;\</span>
<span class="s1">    &lt;img src=&quot;&#39;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">loadingImage</span> <span class="o">+</span> <span class="s1">&#39;&quot; alt=&quot;loading&quot; /&gt;\</span>
<span class="s1">  &lt;/div&gt;\</span>
<span class="s1">&lt;/div&gt;&#39;</span><span class="p">;</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-5">#</a>               </div>               <p>Check if current browser is Internet Explorer 6</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">isIE6</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">!!</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface.catface-ie&quot;</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
  <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-6">#</a>               </div>               <p>Check if catface is loading some content</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">isLoading</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">!!</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-loading:visible&quot;</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-7">#</a>               </div>               <p>Plugin constructor</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">catface</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">settings</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">clickHandler</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-8">#</a>               </div>               <p>stop if already loading</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">())</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
      
      <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">load</span><span class="p">();</span>
      </pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-9">#</a>               </div>               <p>pass arguments through anchor</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/#/</span><span class="p">))</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-10">#</a>               </div>               <p>is allowing to have directly parameters in href
ex: "#my-div&amp;time=10"
this will show #my-div during 10 seconds</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">var</span> <span class="nx">ary</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">v</span> <span class="k">in</span> <span class="nx">ary</span><span class="p">){</span>
          <span class="kd">var</span> <span class="nx">k</span> <span class="o">=</span> <span class="nx">ary</span><span class="p">[</span><span class="nx">v</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">);</span>
          <span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">[</span><span class="nx">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-11">#</a>               </div>               <p>ary[0] is the target</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">ary</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">clone</span><span class="p">().</span><span class="nx">show</span><span class="p">());</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-12">#</a>               </div>               <p>ajax</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">open</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">clickHandler</span><span class="p">);</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-13">#</a>               </div>               <p>The init function is a one-time setup which preloads vital images
and other niceities.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">inited</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">settings</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
      
    <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">inited</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    
    <span class="nx">settings</span> <span class="o">&amp;&amp;</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">,</span> <span class="nx">settings</span><span class="p">);</span>
    
    <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">timing</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">timing</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      
    <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">running</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    
    <span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface&quot;</span><span class="p">).</span><span class="nx">length</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">html</span><span class="p">());</span>
    </pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-14">#</a>               </div>               <p>preloading our images</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">preload</span> <span class="o">=</span> <span class="p">[</span><span class="k">new</span> <span class="nx">Image</span><span class="p">(),</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">()];</span>
    <span class="nx">preload</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">closeImage</span><span class="p">;</span>
    <span class="nx">preload</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">loadingImage</span><span class="p">;</span>
    
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-loading&quot;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
    
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface a.catface-close img:first&quot;</span><span class="p">).</span>
      <span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;src&quot;</span><span class="p">,</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">closeImage</span><span class="p">);</span>
    
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface a.catface-loading img:first&quot;</span><span class="p">).</span>
      <span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;src&quot;</span><span class="p">,</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">loadingImage</span><span class="p">);</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-15">#</a>               </div>               <p>Start to load the content with a "loading" state</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">load</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-16">#</a>               </div>               <p>quit if it is already loading some content</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">())</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;.catface&quot;</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-content&quot;</span><span class="p">).</span><span class="nx">empty</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-loading&quot;</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface&quot;</span><span class="p">).</span><span class="nx">slideDown</span><span class="p">(</span><span class="s2">&quot;slow&quot;</span><span class="p">);</span>
    </pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-17">#</a>               </div>               <p>enable esc key to close catface</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;keydown.catface&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="mi">27</span><span class="p">)</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-18">#</a>               </div>               <p>open </p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">open</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">settings</span><span class="p">,</span> <span class="nx">extraSetup</span><span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-19">#</a>               </div>               <p>return if no data</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\S/</span><span class="p">))</span> <span class="k">return</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
    </pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-20">#</a>               </div>               <p>deal with the settings</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">$s</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">;</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">$s</span><span class="p">,</span> <span class="p">(</span><span class="nx">settings</span> <span class="o">||</span> <span class="p">{}));</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-content&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-loading&quot;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
    </pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-21">#</a>               </div>               <p>remove other added className</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-content&quot;</span><span class="p">).</span>
      <span class="nx">removeClass</span><span class="p">().</span>
      <span class="nx">addClass</span><span class="p">(</span><span class="s2">&quot;catface-content&quot;</span><span class="p">);</span>
    </pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-22">#</a>               </div>               <p>add className if defined</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span><span class="p">(</span><span class="nx">$s</span><span class="p">.</span><span class="nx">className</span> <span class="o">!=</span> <span class="kc">undefined</span><span class="p">)</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-content&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">$s</span><span class="p">.</span><span class="nx">className</span><span class="p">);</span>
      
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-content&quot;</span><span class="p">).</span><span class="nx">fadeIn</span><span class="p">(</span><span class="s2">&quot;slow&quot;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">extraSetup</span><span class="p">))</span> <span class="nx">extraSetup</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    </pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-23">#</a>               </div>               <p>Change IE6 hack back</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">isIE6</span><span class="p">)</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;overflow&quot;</span><span class="p">,</span> <span class="s2">&quot;hidden&quot;</span><span class="p">);</span>
    </pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-24">#</a>               </div>               <p>this.options.time is time in seconds</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">$s</span><span class="p">.</span><span class="nx">time</span> <span class="o">!=</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
      <span class="o">!</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">timing</span> <span class="o">?</span> 
        <span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">timing</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span> <span class="o">:</span> <span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">true</span><span class="p">);</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> 
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">running</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">()){</span>
          <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">timing</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">},</span> <span class="nx">$s</span><span class="p">.</span><span class="nx">time</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    </pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-25">#</a>               </div>               <p>finally we bind close events</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-close&quot;</span><span class="p">).</span>
      <span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;click.catface&quot;</span><span class="p">,</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">close</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-submit&quot;</span><span class="p">).</span>
      <span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;click.catface&quot;</span><span class="p">,</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span> <span class="p">});</span>
  <span class="p">};</span>
  
  <span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">close</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">rtn</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">rtn</span> <span class="o">!=</span> <span class="s2">&quot;boolean&quot;</span><span class="p">)</span> <span class="nx">rtn</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;.catface&quot;</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface&quot;</span><span class="p">).</span><span class="nx">slideUp</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="octowrap">                 <a class="octothorpe" href="#section-26">#</a>               </div>               <p>remove other added className</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-content&quot;</span><span class="p">).</span>
        <span class="nx">removeClass</span><span class="p">().</span>
        <span class="nx">addClass</span><span class="p">(</span><span class="s2">&quot;catface-content&quot;</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#catface .catface-loading&quot;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">catface</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">isIE6</span><span class="p">)</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;overflow&quot;</span><span class="p">,</span> <span class="s2">&quot;visible&quot;</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="nx">rtn</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">})(</span><span class="nx">jQuery</span><span class="p">);</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 